<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Retrieve data via OxCGRT API • oxcgrt</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Retrieve data via OxCGRT API">
<meta property="og:description" content="oxcgrt">
<meta property="og:image" content="https://como-ph.github.io/oxcgrt/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-8QC97H7XRC"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8QC97H7XRC');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oxcgrt</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/retrieve.html">Retrieve data via OxCGRT API</a>
    </li>
    <li>
      <a href="../articles/calculate.html">Calculate OxCGRT sub-indices and indices</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/como-ph/oxcgrt/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Retrieve data via OxCGRT API</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/como-ph/oxcgrt/blob/HEAD/vignettes/retrieve.Rmd" class="external-link"><code>vignettes/retrieve.Rmd</code></a></small>
      <div class="hidden name"><code>retrieve.Rmd</code></div>

    </div>

    
    
<p>The <em>retrieve data</em> functions are based on the <a href="https://www.bsg.ox.ac.uk/research/research-projects/coronavirus-government-response-tracker" class="external-link">OxCGRT</a>’s
JSON API described <a href="https://covidtrackerapi.bsg.ox.ac.uk" class="external-link">here</a>. Two API endpoints
are provided: 1) endpoint for JSON providing data for stringency index
by country over time; and, 2) endpoint for JSON providing data on policy
actions and stringency index for a specific country on a specific
day.</p>
<div class="section level2">
<h2 id="stringency-index-by-country-over-time">Stringency index by country over time<a class="anchor" aria-label="anchor" href="#stringency-index-by-country-over-time"></a>
</h2>
<p>The first API endpoint provides JSON for all countries included in
the <a href="https://www.bsg.ox.ac.uk/research/research-projects/coronavirus-government-response-tracker" class="external-link">OxCGRT</a>
over a specified period of time:</p>
<p><br></p>
<p><code>https://covidtrackerapi.bsg.ox.ac.uk/api/v2/stringency/date-range/{start-date}/{end-date}</code></p>
<p><br></p>
<p>where <code>start-date</code> and <code>end-date</code> are the
starting date and ending date (both in <code>YYYY-MM-DD</code> format)
respectively from which to retrieve data.</p>
<p>The <code>oxcgrt</code> package provides a function named
<code>get_json_time</code> to interface with the API and retrieve the
specified JSON and a function named <code>get_data_time</code> to
extract the data from the specified JSON into an <a href="https://cran.r-project.org" class="external-link">R</a> <code>tibble</code> object.
These two functions have been designed such that they can be piped from
one to the other. Hence to retrieve stringency index data for all
countries from 1 June 2020 to current date, the following code can be
used:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_json.html">get_json_time</a></span><span class="op">(</span>from <span class="op">=</span> <span class="st">"2020-06-01"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/get_data_time.html">get_data_time</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>This produces the following output:</p>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 121,713 × 9</span></span>
<span class="co">#&gt;    date_value country_code country_name        confirmed deaths stringency_actu…</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2020-06-01 FIN          Finland                  <span style="text-decoration: underline;">6</span>986    305             44.4</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2020-06-01 DNK          Denmark                 <span style="text-decoration: underline;">11</span>699    576             60.2</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2020-06-01 LBN          Lebanon                  <span style="text-decoration: underline;">1</span>233     27             74.1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2020-06-01 GUY          Guyana                    153     12             87.0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2020-06-01 PSE          Palestinian Territ…       449      3             80.6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2020-06-01 AFG          Afghanistan             <span style="text-decoration: underline;">15</span>836    269             84.3</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2020-06-01 SVK          Slovakia                 <span style="text-decoration: underline;">1</span>522     28             67.6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2020-06-01 VEN          Venezuela                <span style="text-decoration: underline;">1</span>662     17             85.2</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2020-06-01 HKG          Hong Kong SAR China      <span style="text-decoration: underline;">1</span>087      4             52.8</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2020-06-01 VNM          Vietnam                   328      0             69.4</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 121,703 more rows, and 3 more variables: stringency &lt;dbl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   stringency_legacy &lt;dbl&gt;, stringency_legacy_disp &lt;dbl&gt;</span></span></code></pre>
<p>Important to note that in <code>get_json_time</code>, only the
starting date (using the <code>from</code> argument) is specified to the
desired 1 June 2020 in <code>YYYY-MM-DD</code> format. This is because
by default the <code>to</code> argument (for the ending date) is set to
the current date using a call to the <code><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date()</a></code> function.
By default, the <code>from</code> argument is set to 2 January 2020
(2020-01-02) which is the earliest available data point for the
stringency index. Therefore, to retrieve data on stringency index for
all countries for all available time points up to current, the following
commands can be issued:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_json.html">get_json_time</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/get_data_time.html">get_data_time</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>which produces the following output:</p>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 149,648 × 9</span></span>
<span class="co">#&gt;    date_value country_code country_name            stringency_actual stringency</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2020-01-02 FIN          Finland                               0          0  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2020-01-02 DNK          Denmark                               0          0  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2020-01-02 LBN          Lebanon                               0          0  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2020-01-02 GUY          Guyana                                0          0  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2020-01-02 PSE          Palestinian Territories               0          0  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2020-01-02 AFG          Afghanistan                           0          0  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2020-01-02 SVK          Slovakia                              0          0  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2020-01-02 VEN          Venezuela                             0          0  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2020-01-02 HKG          Hong Kong SAR China                  13.9       13.9</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2020-01-02 VNM          Vietnam                               0          0  </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 149,638 more rows, and 4 more variables: stringency_legacy &lt;dbl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   stringency_legacy_disp &lt;dbl&gt;, confirmed &lt;int&gt;, deaths &lt;int&gt;</span></span></code></pre>
<div class="section level4">
<h4 id="policy-actions-and-stringency-index-for-specific-country-on-a-specific-day">Policy actions and stringency index for specific country on a
specific day<a class="anchor" aria-label="anchor" href="#policy-actions-and-stringency-index-for-specific-country-on-a-specific-day"></a>
</h4>
<p>The second API endpoint provides JSON for a specific country included
in the <a href="https://www.bsg.ox.ac.uk/research/research-projects/coronavirus-government-response-tracker" class="external-link">OxCGRT</a>
for a specified day:</p>
<p><br></p>
<p><code>https://covidtrackerapi.bsg.ox.ac.uk/api/v2/stringency/actions/{country-code}/{date}</code></p>
<p><br></p>
<p>where <code>country-code</code> is the ISO 3166-1 alpha-3 country
code for the required country to get data for and <code>date</code> is
the date (in <code>YYYY-MM-DD</code> format) on which to retrieve
data.</p>
<p>The <code>oxcgrt</code> package provides a function named
<code>get_json_actions</code> to interface with the API and retrieve the
specified JSON and a function named <code>get_data</code> to extract the
data from the specified JSON into a named <code>list</code> <a href="https://cran.r-project.org" class="external-link">R</a> object. These two functions have
been designed such that they can be piped from one to the other. Hence
to retrieve policy actions and stringency index data for Afghanistan for
1 June 2020, the following code can be used:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_json.html">get_json_actions</a></span><span class="op">(</span>ccode <span class="op">=</span> <span class="st">"AFG"</span>, 
                 from <span class="op">=</span> <span class="cn">NULL</span>, 
                 to <span class="op">=</span> <span class="st">"2020-06-01"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/get_data.html">get_data</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>which produces the following output:</p>
<pre><code><span class="co">#&gt; $policyActions</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 23 × 9</span></span>
<span class="co">#&gt;    policy_type_code policy_type_display     policyvalue policyvalue_act… flagged</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> C1               School closing                    3                3 TRUE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> C2               Workplace closing                 3                3 FALSE  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> C3               Cancel public events              2                2 TRUE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> C4               Restrictions on gather…           4                4 TRUE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> C5               Close public transport            2                2 FALSE  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> C6               Stay at home requireme…           2                2 FALSE  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> C7               Restrictions on intern…           2                2 FALSE  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> C8               International travel c…           3                3 <span style="color: #BB0000;">NA</span>     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> E1               Income support                    0                0 <span style="color: #BB0000;">NA</span>     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> E2               Debt/contract relief              0                0 <span style="color: #BB0000;">NA</span>     </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 13 more rows, and 4 more variables: is_general &lt;lgl&gt;, notes &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   flag_value_display_field &lt;chr&gt;, policy_value_display_field &lt;chr&gt;</span></span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $stringencyData</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 6</span></span>
<span class="co">#&gt;   date_value country_code confirmed deaths stringency_actual stringency</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-06-01 AFG              <span style="text-decoration: underline;">15</span>836    269              84.3       84.3</span></code></pre>
<p>Important to note that the output is a named <code>list</code> object
containing a <code>tibble</code> of <strong>policy actions</strong> data
and a <code>tibble</code> of <strong>stringency index</strong> data for
the specified country and the specified date.</p>
</div>
<div class="section level4">
<h4 id="policy-actions-for-specific-country-or-countries-on-a-specific-day-or-days">Policy actions for specific country or countries on a specific day
or days<a class="anchor" aria-label="anchor" href="#policy-actions-for-specific-country-or-countries-on-a-specific-day-or-days"></a>
</h4>
<p>It is also possible to retrieve just policy actions data for a
specific country or for multiple countries on a specific day or multiple
days. To retrieve policy actions data for Afghanistan for 1 June 2020,
the following code can be used:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_json.html">get_json_actions</a></span><span class="op">(</span>ccode <span class="op">=</span> <span class="st">"AFG"</span>, 
                 from <span class="op">=</span> <span class="cn">NULL</span>, 
                 to <span class="op">=</span> <span class="st">"2020-06-01"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/get_data_action.html">get_data_action</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>This results in:</p>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 23 × 12</span></span>
<span class="co">#&gt;    date_value country_code country_name policy_type_code policy_type_display    </span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2020-06-01 AFG          Afghanistan  C1               School closing         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2020-06-01 AFG          Afghanistan  C2               Workplace closing      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2020-06-01 AFG          Afghanistan  C3               Cancel public events   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2020-06-01 AFG          Afghanistan  C4               Restrictions on gather…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2020-06-01 AFG          Afghanistan  C5               Close public transport </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2020-06-01 AFG          Afghanistan  C6               Stay at home requireme…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2020-06-01 AFG          Afghanistan  C7               Restrictions on intern…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2020-06-01 AFG          Afghanistan  C8               International travel c…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2020-06-01 AFG          Afghanistan  E1               Income support         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2020-06-01 AFG          Afghanistan  E2               Debt/contract relief   </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 13 more rows, and 7 more variables: policyvalue &lt;int&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   policyvalue_actual &lt;int&gt;, flagged &lt;lgl&gt;, is_general &lt;lgl&gt;, notes &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   flag_value_display_field &lt;chr&gt;, policy_value_display_field &lt;chr&gt;</span></span></code></pre>
<p>Important to note here that the output is a tibble of just the policy
actions and three additional columns have been added to the dataset -
<code>date_value</code>, <code>country_code</code>, and
<code>country_name</code> - to identify the data as coming from a
specific date and for a specific country.</p>
<p>To retrieve policy actions data for multiple countries on multiple
days, the <code>get_data_actions</code> functions can be used as shown
below:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_json.html">get_json_actions</a></span><span class="op">(</span>ccode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AFG"</span>, <span class="st">"Philippines"</span><span class="op">)</span>, 
                 from <span class="op">=</span> <span class="st">"2020-10-25"</span>, 
                 to <span class="op">=</span> <span class="st">"2020-10-31"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/get_data_action.html">get_data_actions</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>This results in:</p>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 322 × 12</span></span>
<span class="co">#&gt;    date_value country_code country_name policy_type_code policy_type_display    </span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2020-10-25 AFG          Afghanistan  C1               School closing         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2020-10-25 AFG          Afghanistan  C2               Workplace closing      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2020-10-25 AFG          Afghanistan  C3               Cancel public events   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2020-10-25 AFG          Afghanistan  C4               Restrictions on gather…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2020-10-25 AFG          Afghanistan  C5               Close public transport </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2020-10-25 AFG          Afghanistan  C6               Stay at home requireme…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2020-10-25 AFG          Afghanistan  C7               Restrictions on intern…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2020-10-25 AFG          Afghanistan  C8               International travel c…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2020-10-25 AFG          Afghanistan  E1               Income support         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2020-10-25 AFG          Afghanistan  E2               Debt/contract relief   </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 312 more rows, and 7 more variables: policyvalue &lt;int&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   policyvalue_actual &lt;int&gt;, flagged &lt;lgl&gt;, is_general &lt;lgl&gt;, notes &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   flag_value_display_field &lt;chr&gt;, policy_value_display_field &lt;chr&gt;</span></span></code></pre>
<p>Important to note here that the output is a tibble of just the policy
actions and three additional columns have been added to the dataset -
<code>date_value</code>, <code>country_code</code>, and
<code>country_name</code> - to identify the data as coming from a
specific date and for a specific country.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Ernest Guevarra.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
